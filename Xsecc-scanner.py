# Obfuscated by Mr.X
# Dont recode this kids:V
import base64
exec(base64.b64decode('aW1wb3J0IHJlcXVlc3RzCmltcG9ydCByZQpmcm9tIHVybGxpYi5wYXJzZSBpbXBvcnQgdXJscGFyc2UsIHBhcnNlX3FzCmZyb20gY29sb3JhbWEgaW1wb3J0IEZvcmUsIGluaXQKaW1wb3J0IG9zCmltcG9ydCB0aW1lCgojIEluaXNpYWxpc2FzaSBjb2xvcmFtYQppbml0KGF1dG9yZXNldD1UcnVlKQoKIyBGdW5nc2kgdW50dWsgbWVuYW1waWxrYW4gYmFubmVyIGRlbmdhbiBlZmVrIGJlcmtlZGlwCmRlZiBzaG93X2Jhbm5lcigpOgogICAgZm9yIF8gaW4gcmFuZ2UoMyk6ICAjIExvb3AgdW50dWsgZWZlayBiZXJrZWRpcAogICAgICAgIHByaW50KGYie0ZvcmUuQkxVRX1cbj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgICAgIHByaW50KCIgICAgICAgICAgICAgWHNlY2Mtc2Nhbm5lciAgICAgICAgICAgICAgICIpCiAgICAgICAgcHJpbnQoIj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgICAgIHRpbWUuc2xlZXAoMC41KQogICAgICAgIG9zLnN5c3RlbSgiY2xzIiBpZiBvcy5uYW1lID09ICJudCIgZWxzZSAiY2xlYXIiKSAgIyBNZW1iZXJzaWhrYW4gbGF5YXIKICAgICAgICB0aW1lLnNsZWVwKDAuMikKCiAgICBwcmludChmIntGb3JlLkJMVUV9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgcHJpbnQoIiAgWHNlY2Mtc2Nhbm5lciA9PiBWVUxORVJBQklMSVRZIFNDQU5ORVIgVE9PTCIpCiAgICBwcmludCgiICAgICAgICAgICAgICAgICBCeTogTXIuWCIpCiAgICBwcmludCgiPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0iKQogICAgcHJpbnQoIlNlbGVjdCB0aGUgdHlwZSBvZiBzY2FuIHlvdSB3YW50IHRvIHBlcmZvcm06IikKICAgIHByaW50KCIxLiBYU1MgKENyb3NzLVNpdGUgU2NyaXB0aW5nKSIpCiAgICBwcmludCgiMi4gU1FMIEluamVjdGlvbiAoU1FMaSkiKQogICAgcHJpbnQoIjMuIExvY2FsIEZpbGUgSW5jbHVzaW9uIChMRkkpIikKICAgIHByaW50KCI0LiBPcGVuIFJlZGlyZWN0IikKICAgIHByaW50KCI1LiBTY2FuIEFsbCAoWFNTLCBTUUxpLCBMRkksIE9wZW4gUmVkaXJlY3QpIikKICAgIHByaW50KCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IikKCiMgRnVuZ3NpIHVudHVrIG1lbXVhdCBwYXlsb2FkIGRhcmkgZmlsZQpkZWYgbG9hZF9wYXlsb2FkcyhwYXlsb2FkX3R5cGUpOgogICAgcGF5bG9hZF9maWxlID0gZiJwYXlsb2Fkcy97cGF5bG9hZF90eXBlfS50eHQiCiAgICBpZiBvcy5wYXRoLmV4aXN0cyhwYXlsb2FkX2ZpbGUpOgogICAgICAgIHdpdGggb3BlbihwYXlsb2FkX2ZpbGUsICJyIikgYXMgZmlsZToKICAgICAgICAgICAgcmV0dXJuIFtsaW5lLnN0cmlwKCkgZm9yIGxpbmUgaW4gZmlsZS5yZWFkbGluZXMoKV0KICAgIGVsc2U6CiAgICAgICAgcHJpbnQoZiJ7Rm9yZS5SRUR9WyFdIEZpbGUgcGF5bG9hZCB7cGF5bG9hZF9maWxlfSBub3QgZm91bmQuIikKICAgICAgICByZXR1cm4gW10KCiMgRnVuZ3NpIHV0YW1hIHVudHVrIG1lbmRldGVrc2kga2VyZW50YW5hbgpkZWYgZGV0ZWN0X3Z1bG5lcmFiaWxpdGllcyh1cmwsIHNjYW5fdHlwZSwgdmVyYm9zZSk6CiAgICB0cnk6CiAgICAgICAgcGFyc2VkX3VybCA9IHVybHBhcnNlKHVybCkKICAgICAgICBwYXJhbXMgPSBwYXJzZV9xcyhwYXJzZWRfdXJsLnF1ZXJ5KQogICAgICAgIAogICAgICAgIHByaW50KGYiXG57Rm9yZS5DWUFOfVsqXSBTdGFydGluZyBzY2FuIGZvcjoge3VybH0iKQogICAgICAgIAogICAgICAgIGZvciBwYXJhbSBpbiBwYXJhbXM6CiAgICAgICAgICAgIHByaW50KGYiXG57Rm9yZS5ZRUxMT1d9WyFdIFRlc3RpbmcgcGFyYW1ldGVyOiB7cGFyYW19IikKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIHNjYW5fdHlwZSBpbiBbInhzcyIsICJhbGwiXToKICAgICAgICAgICAgICAgIHhzc19wYXlsb2FkcyA9IGxvYWRfcGF5bG9hZHMoInhzcyIpCiAgICAgICAgICAgICAgICBmb3IgcGF5bG9hZCBpbiB4c3NfcGF5bG9hZHM6CiAgICAgICAgICAgICAgICAgICAgdGVzdF94c3ModXJsLCBwYXJhbSwgcGF5bG9hZCwgdmVyYm9zZSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIHNjYW5fdHlwZSBpbiBbInNxbGkiLCAiYWxsIl06CiAgICAgICAgICAgICAgICBzcWxpX3BheWxvYWRzID0gbG9hZF9wYXlsb2Fkcygic3FsaSIpCiAgICAgICAgICAgICAgICBmb3IgcGF5bG9hZCBpbiBzcWxpX3BheWxvYWRzOgogICAgICAgICAgICAgICAgICAgIHRlc3Rfc3FsaSh1cmwsIHBhcmFtLCBwYXlsb2FkLCB2ZXJib3NlKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgc2Nhbl90eXBlIGluIFsibGZpIiwgImFsbCJdOgogICAgICAgICAgICAgICAgbGZpX3BheWxvYWRzID0gbG9hZF9wYXlsb2FkcygibGZpIikKICAgICAgICAgICAgICAgIGZvciBwYXlsb2FkIGluIGxmaV9wYXlsb2FkczoKICAgICAgICAgICAgICAgICAgICB0ZXN0X2xmaSh1cmwsIHBhcmFtLCBwYXlsb2FkLCB2ZXJib3NlKQogICAgICAgICAgICAKICAgICAgICAgICAgaWYgc2Nhbl90eXBlIGluIFsib3BlbnJlZGlyZWN0IiwgImFsbCJdOgogICAgICAgICAgICAgICAgcmVkaXJlY3RfcGF5bG9hZHMgPSBsb2FkX3BheWxvYWRzKCJvcGVucmVkaXJlY3QiKQogICAgICAgICAgICAgICAgZm9yIHBheWxvYWQgaW4gcmVkaXJlY3RfcGF5bG9hZHM6CiAgICAgICAgICAgICAgICAgICAgdGVzdF9vcGVuX3JlZGlyZWN0KHVybCwgcGFyYW0sIHBheWxvYWQsIHZlcmJvc2UpCiAgICAgICAgICAgIAogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGYie0ZvcmUuUkVEfVshXSBFcnJvcjoge3N0cihlKX0iKQoKIyBGdW5nc2kgdW50dWsgbWVuZ3VqaSBYU1MKZGVmIHRlc3RfeHNzKHVybCwgcGFyYW0sIHBheWxvYWQsIHZlcmJvc2UpOgogICAgdHJ5OgogICAgICAgIGRhdGEgPSB7cGFyYW06IHBheWxvYWR9CiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCBwYXJhbXM9ZGF0YSkKICAgICAgICBpZiByZS5zZWFyY2gocGF5bG9hZCwgcmVzcG9uc2UudGV4dCwgcmUuSUdOT1JFQ0FTRSk6CiAgICAgICAgICAgIHByaW50KGYie0ZvcmUuR1JFRU59W1hTU10gUG90ZW50aWFsIHZ1bG5lcmFiaWxpdHkgZm91bmQgaW4gcGFyYW1ldGVycyB7cGFyYW19IGRlbmdhbiBwYXlsb2FkOiB7cGF5bG9hZH0iKQogICAgICAgIGVsaWYgdmVyYm9zZToKICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5SRUR9W1hTU10gTm90IHZ1bG5lcmFibGUgdG8gcGF5bG9hZHM6IHtwYXlsb2FkfSIpCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcwoKIyBGdW5nc2kgdW50dWsgbWVuZ3VqaSBTUUwgSW5qZWN0aW9uCmRlZiB0ZXN0X3NxbGkodXJsLCBwYXJhbSwgcGF5bG9hZCwgdmVyYm9zZSk6CiAgICB0cnk6CiAgICAgICAgZGF0YSA9IHtwYXJhbTogcGF5bG9hZH0KICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCh1cmwsIHBhcmFtcz1kYXRhKQogICAgICAgIGVycm9ycyA9IHsKICAgICAgICAgICAgIk15U1FMIjogKHIiU1FMIHN5bnRheC4qTXlTUUwiLCByIldhcm5pbmcuKm15c3FsXy4qIiwgciJNeVNRTCBRdWVyeSBmYWlsLioiKSwKICAgICAgICAgICAgIlBvc3RncmVTUUwiOiAociJQb3N0Z3JlU1FMLipFUlJPUiIsIHIiV2FybmluZy4qXFdwZ18uKiIpLAogICAgICAgICAgICAiU1FMIFNlcnZlciI6IChyIk1pY3Jvc29mdCBTUUwgU2VydmVyIiwgciJTeXN0ZW0uRGF0YS5TcWxDbGllbnQuKiIpLAogICAgICAgICAgICAiT3JhY2xlIjogKHIiT1JBLVswLTldezV9IiwgciJPcmFjbGUgZXJyb3IiKQogICAgICAgIH0KICAgICAgICBmb3VuZCA9IEZhbHNlCiAgICAgICAgZm9yIGRiLCBwYXR0ZXJucyBpbiBlcnJvcnMuaXRlbXMoKToKICAgICAgICAgICAgZm9yIHBhdHRlcm4gaW4gcGF0dGVybnM6CiAgICAgICAgICAgICAgICBpZiByZS5zZWFyY2gocGF0dGVybiwgcmVzcG9uc2UudGV4dCk6CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5HUkVFTn1bU1FMaV0gUG90ZW50aWFsIHtkYn0gaW5qZWN0aW9uIGluIHtwYXJhbX0gcGFyYW1ldGVyIHdpdGggcGF5bG9hZDoge3BheWxvYWR9IikKICAgICAgICAgICAgICAgICAgICBmb3VuZCA9IFRydWUKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICBpZiBmb3VuZDoKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgaWYgdmVyYm9zZSBhbmQgbm90IGZvdW5kOgogICAgICAgICAgICBwcmludChmIntGb3JlLlJFRH1bU1FMaV0gTm90IHZ1bG5lcmFibGUgdG8gcGF5bG9hZHM6IHtwYXlsb2FkfSIpCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcwoKIyBGdW5nc2kgdW50dWsgbWVuZ3VqaSBMRkkKZGVmIHRlc3RfbGZpKHVybCwgcGFyYW0sIHBheWxvYWQsIHZlcmJvc2UpOgogICAgdHJ5OgogICAgICAgIGRhdGEgPSB7cGFyYW06IHBheWxvYWR9CiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCBwYXJhbXM9ZGF0YSkKICAgICAgICBpZiAicm9vdDoiIGluIHJlc3BvbnNlLnRleHQ6CiAgICAgICAgICAgIHByaW50KGYie0ZvcmUuR1JFRU59W0xGSV0gUG90ZW50aWFsIExvY2FsIEZpbGUgSW5jbHVzaW9uIGluIHtwYXJhbX0gcGFyYW1ldGVyIHdpdGggcGF5bG9hZDoge3BheWxvYWR9IikKICAgICAgICBlbGlmIHZlcmJvc2U6CiAgICAgICAgICAgIHByaW50KGYie0ZvcmUuUkVEfVtMRkldIE5vdCB2dWxuZXJhYmxlIHRvIHBheWxvYWRzOiB7cGF5bG9hZH0iKQogICAgZXhjZXB0OgogICAgICAgIHBhc3MKCiMgRnVuZ3NpIHVudHVrIG1lbmd1amkgT3BlbiBSZWRpcmVjdApkZWYgdGVzdF9vcGVuX3JlZGlyZWN0KHVybCwgcGFyYW0sIHBheWxvYWQsIHZlcmJvc2UpOgogICAgdHJ5OgogICAgICAgIGRhdGEgPSB7cGFyYW06IHBheWxvYWR9CiAgICAgICAgcmVzcG9uc2UgPSByZXF1ZXN0cy5nZXQodXJsLCBwYXJhbXM9ZGF0YSwgYWxsb3dfcmVkaXJlY3RzPUZhbHNlKQogICAgICAgIGlmIDMwMCA8PSByZXNwb25zZS5zdGF0dXNfY29kZSA8IDQwMDoKICAgICAgICAgICAgbG9jYXRpb24gPSByZXNwb25zZS5oZWFkZXJzLmdldCgnTG9jYXRpb24nLCAnJykKICAgICAgICAgICAgaWYgcGF5bG9hZCBpbiBsb2NhdGlvbjoKICAgICAgICAgICAgICAgIHByaW50KGYie0ZvcmUuR1JFRU59W09wZW4gUmVkaXJlY3RdIFBvdGVudGlhbCB2dWxuZXJhYmlsaXR5IGluIHRoZSB7cGFyYW19IHBhcmFtZXRlciB3aXRoIHBheWxvYWQ6IHtwYXlsb2FkfSIpCiAgICAgICAgZWxpZiB2ZXJib3NlOgogICAgICAgICAgICBwcmludChmIntGb3JlLlJFRH1bT3BlbiBSZWRpcmVjdF0gTm90IHZ1bG5lcmFibGUgdG8gcGF5bG9hZHM6IHtwYXlsb2FkfSIpCiAgICBleGNlcHQ6CiAgICAgICAgcGFzcwoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIHNob3dfYmFubmVyKCkKCiAgICAjIFBpbGloIG1vZGUgc2NhbgogICAgc2Nhbl9tb2RlID0gaW5wdXQoIlNlbGVjdCBzY2FuIG1vZGUgKDE6IFNpbmdsZSBUYXJnZXQsIDI6IE11bHRpIFRhcmdldCBmcm9tIGZpbGUpOiAiKS5zdHJpcCgpCgogICAgIyBQaWxpaGFuIHNjYW4KICAgIGNob2ljZSA9IGlucHV0KCJTZWxlY3Qgc2NhbiB0eXBlICgxLTUpOiAiKQoKICAgICMgT3BzaSB2ZXJib3NlCiAgICB2ZXJib3NlX2Nob2ljZSA9IGlucHV0KCJVc2UgdmVyYm9zZSBtb2RlPyAoeS9uKTogIikuc3RyaXAoKS5sb3dlcigpCiAgICB2ZXJib3NlID0gdmVyYm9zZV9jaG9pY2UgPT0gInkiCgogICAgIyBNYXBwaW5nIHBpbGloYW4ga2UgamVuaXMgc2NhbgogICAgc2Nhbl9vcHRpb25zID0gewogICAgICAgICIxIjogInhzcyIsCiAgICAgICAgIjIiOiAic3FsaSIsCiAgICAgICAgIjMiOiAibGZpIiwKICAgICAgICAiNCI6ICJvcGVucmVkaXJlY3QiLAogICAgICAgICI1IjogImFsbCIKICAgIH0KCiAgICAjIFBlc2FuIHZpbGxhaW4gYmVyZGFzYXJrYW4gcGlsaWhhbiBzY2FuCiAgICB2aWxsYWluX3F1b3RlcyA9IHsKICAgICAgICAiMSI6ICJJIHByZWZlciBhIHJlYWwgdmlsbGFpbiB0byBhIGZhbHNlIGhlcm8u4paIIiwKICAgICAgICAiMiI6ICJJZiB5b3UgY2FuJ3QgcGxheSB0aGUgaGVybywgcGxheSB0aGUgdmlsbGFpbi7ilogiLAogICAgICAgICIzIjogIkhpc3Rvcnkgd2lsbCBkZWNpZGUgaWYgSSdtIGEgdmlsbGFpbiBvciBhIGhlcm8u4paIIiwKICAgICAgICAiNCI6ICJUaGUgdmlsbGFpbiB3aWxsIGFsd2F5cyBiZSBhIHZpbGxhaW4gaWYgdGhlIGhlcm8gdGVsbHMgdGhlIHN0b3J5Li4u4paIIgogICAgfQoKICAgIGlmIHNjYW5fbW9kZSA9PSAiMSI6ICAjIFNpbmdsZSBUYXJnZXQKICAgICAgICB0YXJnZXRfdXJsID0gaW5wdXQoIkVudGVyIHRhcmdldCBVUkwgKHdpdGggcGFyYW1ldGVycyk6ICIpLnN0cmlwKCkKICAgICAgICBpZiBjaG9pY2UgaW4gc2Nhbl9vcHRpb25zOgogICAgICAgICAgICBzY2FuX3R5cGUgPSBzY2FuX29wdGlvbnNbY2hvaWNlXQoKICAgICAgICAgICAgIyBNZW5hbXBpbGthbiBwZXNhbiB2aWxsYWluIHNlc3VhaSBwaWxpaGFuIHVzZXIKICAgICAgICAgICAgaWYgY2hvaWNlIGluIHZpbGxhaW5fcXVvdGVzOgogICAgICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5NQUdFTlRBfXt2aWxsYWluX3F1b3Rlc1tjaG9pY2VdfSIpCgogICAgICAgICAgICBkZXRlY3RfdnVsbmVyYWJpbGl0aWVzKHRhcmdldF91cmwsIHNjYW5fdHlwZSwgdmVyYm9zZSkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmIntGb3JlLlJFRH1bIV0gSW52YWxpZCBzZWxlY3Rpb24uIikKCiAgICBlbGlmIHNjYW5fbW9kZSA9PSAiMiI6ICAjIE11bHRpIFRhcmdldCBkYXJpIGZpbGUKICAgICAgICBmaWxlX3BhdGggPSBpbnB1dCgiRW50ZXIgdGhlIHRhcmdldCBsaXN0IGZpbGUgcGF0aDogIikuc3RyaXAoKQogICAgICAgIGlmIG9zLnBhdGguZXhpc3RzKGZpbGVfcGF0aCk6CiAgICAgICAgICAgIHdpdGggb3BlbihmaWxlX3BhdGgsICJyIikgYXMgZmlsZToKICAgICAgICAgICAgICAgIHVybHMgPSBbbGluZS5zdHJpcCgpIGZvciBsaW5lIGluIGZpbGUucmVhZGxpbmVzKCldCiAgICAgICAgICAgICAgICBmb3IgdXJsIGluIHVybHM6CiAgICAgICAgICAgICAgICAgICAgZGV0ZWN0X3Z1bG5lcmFiaWxpdGllcyh1cmwsIHNjYW5fb3B0aW9ucy5nZXQoY2hvaWNlLCAiYWxsIiksIHZlcmJvc2UpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnQoZiJ7Rm9yZS5SRUR9WyFdIEZpbGUgbm90IGZvdW5kLiIpCgogICAgZWxzZToKICAgICAgICBwcmludChmIntGb3JlLlJFRH1bIV0gSW52YWxpZCBzZWxlY3Rpb24uIikK').decode('utf-8'))
